@model IEnumerable<Financeiro.Models.tp_conta>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Tipos de contas</h2>
<a href="#" class="btn btn-sm btn-primary btnnovo m-1"><span class="fa fa-plus"></span> Adicionar tipo de conta</a>
<table class="table table-striped table-hover table-sm">
    <tr class="thead-dark">
        <th>
            @Html.DisplayNameFor(model => model.descricao)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.fundos)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.investimento)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.descricao)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.fundos)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.investimento)
            </td>
            <td align="right">
                <a href="#" class="btn btn-primary  btn-sm btnedit" id="btnedit" data-value="@item.idtp_conta" data-toggle="tooltip" data-placement="top" title="Excluir">
                    <span class="fa fa-pencil"></span> Editar
                </a>
                <a href="#" class="btn btn-warning btn-sm btndetalhes" id="btnteste" data-value="@item.idtp_conta" data-toggle="tooltip" data-placement="top" title="Detalhes">
                    <span class="fa fa-list"></span> Detalhes
                </a>
                <a href="#" class="btn btn-danger btn-sm btndelete" id="btndelete" data-value="@item.idtp_conta " data-toggle="tooltip" data-placement="top" title="Detalhes">
                    <span class="fa fa-minus"></span> Excluir
                </a>
            </td>
        </tr>
    }

</table>
<div class="modal fade" data-backdrop="static" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content" id="teste">

        </div>
    </div>
</div>
@section scripts{
    <script type="text/javascript">
        $(document).ready(function () {

            $('#btnsair').click(limpar);
            function limpar() {
                $('#teste2').html('');
            }

            $(".btndetalhes").click(function () {
                var id = $(this).data("value");
                $("#teste").load("/tp_conta/Details/" + id,
                    function () {
                        $("#exampleModalCenter").modal("show");
                    }
                );

            });
            $(".btnnovo").click(function () {
                var id = $(this).data("value");
                $("#teste").load("/tp_conta/Create/",
                    function () {
                        $("#exampleModalCenter").modal("show");
                    }
                );

            });
            $(".btnedit").click(function () {
                var id = $(this).data("value");
                $("#teste").load("/tp_conta/Edit/" + id,
                    function () {
                        $("#exampleModalCenter").modal("show");
                    }
                );

            });
            $(".btndelete").click(function () {
                var id = $(this).data("value");
                $("#teste").load("/bancos/Delete/" + id,
                    function () {
                        $("#exampleModalCenter").modal("show");
                    }
                );

            });
            //$(".btnnovo").click(function () {
            // $("#teste2").load("",
            // function () {
            //  $("#exampleModalCenter").modal("show");
            // }
            // );

            //});

        });
    </script>
}
